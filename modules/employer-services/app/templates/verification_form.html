<!-- Modules/employer-services/app/templates/verification_form.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Respond to Verification Request - Employer Services</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background-color: #2c3e50;
            color: white;
            padding: 1rem;
        }
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        nav ul {
            list-style: none;
            display: flex;
        }
        nav ul li {
            margin-left: 20px;
        }
        nav ul li a {
            color: white;
            text-decoration: none;
        }
        .card {
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .btn {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 10px 15px;
            text-decoration: none;
            border-radius: 4px;
            font-weight: bold;
            border: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <div class="logo">UI Employer Portal</div>
            <nav>
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/verification-requests">Verification Requests</a></li>
                </ul>
            </nav>
        </div>
    </header>
    
    <div class="container">
        <h1>Respond to Verification Request</h1>
        
        <div class="card">
            <h2>Claimant Information</h2>
            <div id="claimant-info">
                <p><strong>Claim ID:</strong> <span id="claim-id">C123456</span></p>
                <p><strong>Claimant Name:</strong> <span id="claimant-name">John Doe</span></p>
                <p><strong>SSN (Last 4):</strong> <span id="claimant-ssn">1234</span></p>
                <p><strong>Claimed Employment Period:</strong> <span id="employment-period">Jan 1, 2024 - Apr 15, 2025</span></p>
            </div>
        </div>
        
        <div class="card">
            <h2>Verification Response</h2>
            <form id="verification-form">
                <div class="form-group">
                    <label for="verification-status">Verification Status</label>
                    <select id="verification-status" name="verification-status" required>
                        <option value="">Select a status</option>
                        <option value="Confirmed">Confirmed - Information is correct</option>
                        <option value="Disputed">Disputed - Information is incorrect</option>
                        <option value="NeedMoreInfo">Need More Information</option>
                    </select>
                </div>
                
                <div id="employment-details-section">
                    <h3>Employment Details</h3>
                    
                    <div class="form-group">
                        <label for="start-date">Start Date</label>
                        <input type="date" id="start-date" name="start-date" value="2024-01-01">
                    </div>
                    
                    <div class="form-group">
                        <label for="end-date">End Date</label>
                        <input type="date" id="end-date" name="end-date" value="2025-04-15">
                    </div>
                    
                    <div class="form-group">
                        <label for="wage-rate">Wage Rate</label>
                        <input type="number" id="wage-rate" name="wage-rate" step="0.01" placeholder="Enter wage rate" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="pay-frequency">Pay Frequency</label>
                        <select id="pay-frequency" name="pay-frequency" required>
                            <option value="">Select frequency</option>
                            <option value="Hourly">Hourly</option>
                            <option value="Weekly">Weekly</option>
                            <option value="Biweekly">Biweekly</option>
                            <option value="Monthly">Monthly</option>
                            <option value="Annually">Annually</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="hours-per-week">Hours Per Week</label>
                        <input type="number" id="hours-per-week" name="hours-per-week" placeholder="40">
                    </div>
                    
                    <div class="form-group">
                        <label for="reason-for-separation">Reason for Separation</label>
                        <select id="reason-for-separation" name="reason-for-separation">
                            <option value="">Select a reason</option>
                            <option value="Layoff">Layoff</option>
                            <option value="Termination">Termination</option>
                            <option value="Quit">Quit</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="additional-comments">Additional Comments</label>
                    <textarea id="additional-comments" name="additional-comments" rows="4" placeholder="Add any additional information here..."></textarea>
                </div>
                
                <button type="submit" class="btn">Submit Response</button>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const requestId = "{{ request_id }}";
            
            // Handle form submission
            document.getElementById('verification-form').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get form values
                const verificationStatus = document.getElementById('verification-status').value;
                const startDate = document.getElementById('start-date').value;
                const endDate = document.getElementById('end-date').value;
                const wageRate = parseFloat(document.getElementById('wage-rate').value);
                const payFrequency = document.getElementById('pay-frequency').value;
                const hoursPerWeek = document.getElementById('hours-per-week').value ? 
                                    parseInt(document.getElementById('hours-per-week').value) : null;
                const reasonForSeparation = document.getElementById('reason-for-separation').value;
                const additionalComments = document.getElementById('additional-comments').value;
                
                // Construct the mutation variables
                const variables = {
                    requestId: requestId,
                    verificationStatus: verificationStatus,
                    employmentDetails: {
                        startDate: startDate,
                        endDate: endDate,
                        wageRate: wageRate,
                        payFrequency: payFrequency,
                        hoursPerWeek: hoursPerWeek,
                        reasonForSeparation: reasonForSeparation
                    },
                    additionalComments: additionalComments
                };
                
                // For demo purposes, just log the data and show a success message
                console.log('Submitting verification response:', variables);
                
                // In a real implementation, we would submit this data to the GraphQL API
                alert('Verification response submitted successfully!');
                
                // Redirect back to the verification requests list
                window.location.href = '/verification-requests';
            });
        });
    </script>
</body>
</html>
